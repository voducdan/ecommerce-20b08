(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"7UCR":function(t,e,n){"use strict";n.r(e),n.d(e,"UserModule",(function(){return J}));var r=n("ofXK"),o=n("tyNb"),s=n("3Pt+"),i=n("tk/3"),c=n("fXoL"),l=n("LRne"),a=n("lJxs"),b=n("vkgz"),m=n("JIr8"),u=n("hEqt");const d={headers:new i.c({"Content-type":"application/json"}),params:{}};let f=(()=>{class t{constructor(t){this.http=t}extractData(t){return t||{}}setToken(t){t.success&&localStorage.setItem("token",t.token)}register(t){return d.params=t,this.http.post(u.a.apiURL+"/user",d).pipe(Object(a.a)(this.extractData),Object(b.a)(this.setToken),Object(m.a)(t=>Object(l.a)(t)))}login(t){return d.params=t,this.http.post(u.a.apiURL+"/user/auth",d).pipe(Object(a.a)(this.extractData),Object(b.a)(this.setToken),Object(m.a)(t=>Object(l.a)(t)))}}return t.\u0275fac=function(e){return new(e||t)(c.Qb(i.a))},t.\u0275prov=c.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),g=(()=>{class t{constructor(){this.mustMatch=[]}validate(t){return(e=this.mustMatch[0],n=this.mustMatch[1],t=>{const r=t.controls[e],o=t.controls[n];return r&&o?o.errors&&!o.errors.mustMatch?null:void o.setErrors(r.value!==o.value?{mustMatch:!0}:null):null})(t);var e,n}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=c.Eb({type:t,selectors:[["","mustMatch",""]],inputs:{mustMatch:"mustMatch"},features:[c.yb([{provide:s.j,useExisting:t,multi:!0}])]}),t})();function p(t,e){1&t&&(c.Mb(0,"em",24),c.nc(1,"Please fill out this filed!"),c.Lb())}function h(t,e){if(1&t&&(c.Mb(0,"div"),c.mc(1,p,2,0,"em",23),c.Lb()),2&t){c.Yb();const t=c.gc(2);c.zb(1),c.cc("ngIf",null==t.controls.firstname?null:t.controls.firstname.errors.required)}}function M(t,e){1&t&&(c.Mb(0,"em",24),c.nc(1,"Please fill out this filed!"),c.Lb())}function v(t,e){if(1&t&&(c.Mb(0,"div"),c.mc(1,M,2,0,"em",23),c.Lb()),2&t){c.Yb();const t=c.gc(2);c.zb(1),c.cc("ngIf",null==t.controls.lastname?null:t.controls.lastname.errors.required)}}function L(t,e){1&t&&(c.Mb(0,"em",24),c.nc(1,"Please fill out this filed!"),c.Lb())}function w(t,e){1&t&&(c.Mb(0,"em"),c.nc(1,"Please enter a valid email!"),c.Lb())}function C(t,e){if(1&t&&(c.Mb(0,"div"),c.mc(1,L,2,0,"em",23),c.mc(2,w,2,0,"em",10),c.Lb()),2&t){c.Yb();const t=c.gc(2);c.zb(1),c.cc("ngIf",null==t.controls.email?null:t.controls.email.errors.required),c.zb(1),c.cc("ngIf",null==t.controls.email?null:t.controls.email.errors.pattern)}}function z(t,e){1&t&&(c.Mb(0,"em",24),c.nc(1,"Please fill out this filed!"),c.Lb())}function x(t,e){1&t&&(c.Mb(0,"em"),c.nc(1,"Password must be at least 6 characters"),c.Lb())}function y(t,e){if(1&t&&(c.Mb(0,"div"),c.mc(1,z,2,0,"em",23),c.mc(2,x,2,0,"em",10),c.Lb()),2&t){c.Yb();const t=c.gc(2);c.zb(1),c.cc("ngIf",null==t.controls.password?null:t.controls.password.errors.required),c.zb(1),c.cc("ngIf",null==t.controls.password?null:t.controls.password.errors.minlength)}}function I(t,e){1&t&&(c.Mb(0,"em",24),c.nc(1,"Please fill out this filed!"),c.Lb())}function P(t,e){1&t&&(c.Mb(0,"em"),c.nc(1,"Passwords must match"),c.Lb())}function q(t,e){if(1&t&&(c.Mb(0,"div"),c.mc(1,I,2,0,"em",23),c.mc(2,P,2,0,"em",10),c.Lb()),2&t){c.Yb();const t=c.gc(2);c.zb(1),c.cc("ngIf",null==t.controls.passwordComfirm?null:t.controls.passwordComfirm.errors.required),c.zb(1),c.cc("ngIf",null==t.controls.passwordComfirm?null:t.controls.passwordComfirm.errors.mustMatch)}}const O=function(){return["password","passwordComfirm"]};function S(t,e){if(1&t&&(c.Mb(0,"div",17),c.nc(1),c.Lb()),2&t){const t=c.Yb();c.zb(1),c.pc(" ",t.loginErr," ")}}function U(t,e){1&t&&(c.Mb(0,"em",19),c.nc(1,"Please fill out this filed!"),c.Lb())}function k(t,e){1&t&&(c.Mb(0,"em",19),c.nc(1,"Please enter a valid email!"),c.Lb())}function F(t,e){if(1&t&&(c.Mb(0,"div"),c.mc(1,U,2,0,"em",18),c.mc(2,k,2,0,"em",18),c.Lb()),2&t){const t=c.Yb();var n;const e=null==(n=t.loginForm.get("email"))?null:n.errors.required;var r;const o=null==(r=t.loginForm.get("email"))?null:r.errors.email;c.zb(1),c.cc("ngIf",e),c.zb(1),c.cc("ngIf",o)}}function j(t,e){1&t&&(c.Mb(0,"em",19),c.nc(1,"Please fill out this filed!"),c.Lb())}function _(t,e){1&t&&(c.Mb(0,"em"),c.nc(1,"Password must be more than 6 characters"),c.Lb())}function R(t,e){if(1&t&&(c.Mb(0,"div"),c.mc(1,j,2,0,"em",18),c.mc(2,_,2,0,"em",9),c.Lb()),2&t){const t=c.Yb();var n;const e=null==(n=t.loginForm.get("password"))?null:n.errors.required;var r;const o=null==(r=t.loginForm.get("password"))?null:r.errors.minlength;c.zb(1),c.cc("ngIf",e),c.zb(1),c.cc("ngIf",o)}}const E=[{path:"register",component:(()=>{class t{constructor(t,e){this.router=t,this.userService=e,this.user={firstname:"",lastname:"",password:"",email:""},this.acceptTerm=!1}onSubmit(){this.userService.register(this.user).subscribe(t=>{t.success&&this.router.navigate(["courses"])})}}return t.\u0275fac=function(e){return new(e||t)(c.Jb(o.b),c.Jb(f))},t.\u0275cmp=c.Db({type:t,selectors:[["app-register"]],decls:37,vars:14,consts:[[1,"container"],[3,"mustMatch","ngSubmit"],["signUpForm","ngForm"],[1,"row","justify-content-center"],[1,"col-12","col-md-8","col-lg-8","col-xl-6"],[1,"row"],[1,"col","text-center"],[1,"text-h3"],[1,"row","align-items-center"],[1,"col","mt-4"],[4,"ngIf"],["name","firstname","type","text","placeholder","Firstname","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","lastname","placeholder","Lastname","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"row","align-items-center","mt-4"],[1,"col"],["name","email","type","email","pattern","[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$","placeholder","Email","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","password","name","password","placeholder","Password","required","","minlength","6",1,"form-control",3,"ngModel","ngModelChange"],["type","password","name","passwordComfirm","placeholder","Confirm Password","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"row","justify-content-start","mt-4"],[1,"form-check"],[1,"form-check-label"],["type","checkbox","name","acceptTerm","required","",1,"form-check-input",3,"ngModel","ngModelChange"],[1,"btn","btn-primary","mt-4",3,"disabled"],["class","required-err",4,"ngIf"],[1,"required-err"]],template:function(t,e){if(1&t){const t=c.Nb();c.Mb(0,"div",0),c.Mb(1,"form",1,2),c.Ub("ngSubmit",(function(){return c.hc(t),c.gc(2).form.valid&&e.onSubmit()})),c.Mb(3,"div",3),c.Mb(4,"div",4),c.Mb(5,"div",5),c.Mb(6,"div",6),c.Mb(7,"h1"),c.nc(8,"Register"),c.Lb(),c.Mb(9,"p",7),c.nc(10," Sign Up and Start Learning! "),c.Lb(),c.Lb(),c.Lb(),c.Mb(11,"div",8),c.Mb(12,"div",9),c.mc(13,h,2,1,"div",10),c.Mb(14,"input",11),c.Ub("ngModelChange",(function(t){return e.user.firstname=t})),c.Lb(),c.Lb(),c.Mb(15,"div",9),c.mc(16,v,2,1,"div",10),c.Mb(17,"input",12),c.Ub("ngModelChange",(function(t){return e.user.lastname=t})),c.Lb(),c.Lb(),c.Lb(),c.Mb(18,"div",13),c.Mb(19,"div",14),c.mc(20,C,3,2,"div",10),c.Mb(21,"input",15),c.Ub("ngModelChange",(function(t){return e.user.email=t})),c.Lb(),c.Lb(),c.Lb(),c.Mb(22,"div",13),c.Mb(23,"div",14),c.mc(24,y,3,2,"div",10),c.Mb(25,"input",16),c.Ub("ngModelChange",(function(t){return e.user.password=t})),c.Lb(),c.Lb(),c.Mb(26,"div",14),c.mc(27,q,3,2,"div",10),c.Mb(28,"input",17),c.Ub("ngModelChange",(function(t){return e.passwordComfirm=t})),c.Lb(),c.Lb(),c.Lb(),c.Mb(29,"div",18),c.Mb(30,"div",14),c.Mb(31,"div",19),c.Mb(32,"label",20),c.Mb(33,"input",21),c.Ub("ngModelChange",(function(t){return e.acceptTerm=t})),c.Lb(),c.nc(34," I Read and Accept terms and Conditions "),c.Lb(),c.Lb(),c.Mb(35,"button",22),c.nc(36," Submit "),c.Lb(),c.Lb(),c.Lb(),c.Lb(),c.Lb(),c.Lb(),c.Lb()}if(2&t){const t=c.gc(2);c.zb(1),c.cc("mustMatch",c.dc(13,O)),c.zb(12),c.cc("ngIf",t.submitted&&(null==t.controls.firstname?null:t.controls.firstname.invalid)),c.zb(1),c.cc("ngModel",e.user.firstname),c.zb(2),c.cc("ngIf",t.submitted&&(null==t.controls.lastname?null:t.controls.lastname.invalid)),c.zb(1),c.cc("ngModel",e.user.lastname),c.zb(3),c.cc("ngIf",t.submitted&&(null==t.controls.email?null:t.controls.email.invalid)),c.zb(1),c.cc("ngModel",e.user.email),c.zb(3),c.cc("ngIf",t.submitted&&(null==t.controls.password?null:t.controls.password.invalid)),c.zb(1),c.cc("ngModel",e.user.password),c.zb(2),c.cc("ngIf",t.submitted&&(null==t.controls.passwordComfirm?null:t.controls.passwordComfirm.invalid)),c.zb(1),c.cc("ngModel",e.passwordComfirm),c.zb(5),c.cc("ngModel",e.acceptTerm),c.zb(2),c.cc("disabled",!e.acceptTerm)}},directives:[s.t,s.m,s.n,g,r.k,s.c,s.r,s.l,s.o,s.p,s.i,s.b,s.a],styles:["em[_ngcontent-%COMP%] {\n\t\t\t\tcolor: #ef0808;\n\t\t\t\tpadding-left: 7px;\n\t\t\t\tposition: absolute;\n\t\t\t\tbottom: 37px;\n\t\t\t\tfont-size: 13px;\n\t\t\t}"]}),t})()},{path:"login",component:(()=>{class t{constructor(t,e,n){this.userService=t,this.router=e,this.route=n,this.loginForm=new s.f({email:new s.d("",[s.s.required,s.s.email]),password:new s.d("",[s.s.required,s.s.minLength(6)])}),this.loginSuccess=!0}onSubmit(){this.userService.login(this.loginForm.value).subscribe(t=>{if(t.success){let t=this.route.snapshot.queryParams;t.redirectURL&&(this.redirectURL=t.redirectURL),this.redirectURL?this.router.navigateByUrl(this.redirectURL).catch(()=>this.router.navigate(["courses"])):this.router.navigate(["courses"])}else this.loginSuccess=!1,this.loginErr=t.error.error,console.log(this.loginErr)})}}return t.\u0275fac=function(e){return new(e||t)(c.Jb(f),c.Jb(o.b),c.Jb(o.a))},t.\u0275cmp=c.Db({type:t,selectors:[["app-login"]],decls:25,vars:4,consts:[[1,"global-container"],[1,"card","login-form"],[1,"card-body"],[1,"card-title","text-center"],[1,"card-text"],["class","alert alert-danger alert-dismissible fade show","role","alert",4,"ngIf"],[3,"formGroup","ngSubmit"],["login","ngForm"],[1,"form-group"],[4,"ngIf"],["formControlName","email","type","email","id","email","aria-describedby","emailHelp","placeholder","Email address",1,"form-control","form-control-sm"],["formControlName","password","type","password","id","password","placeholder","Password",1,"form-control","form-control-sm"],["type","submit",1,"btn","btn-primary","btn-block"],[1,"forgot-password","text-center","mt-2"],["href","#",2,"font-size","12px"],[1,"sign-up"],["href","/user/register"],["role","alert",1,"alert","alert-danger","alert-dismissible","fade","show"],["class","required-err",4,"ngIf"],[1,"required-err"]],template:function(t,e){if(1&t){const t=c.Nb();c.Mb(0,"div",0),c.Mb(1,"div",1),c.Mb(2,"div",2),c.Mb(3,"h3",3),c.nc(4,"Log in to 20B08"),c.Lb(),c.Mb(5,"div",4),c.mc(6,S,2,1,"div",5),c.Mb(7,"form",6,7),c.Ub("ngSubmit",(function(){return c.hc(t),c.gc(8).form.valid&&e.onSubmit()})),c.Mb(9,"div",8),c.mc(10,F,3,2,"div",9),c.Kb(11,"input",10),c.Lb(),c.Mb(12,"div",8),c.mc(13,R,3,2,"div",9),c.Kb(14,"input",11),c.Lb(),c.Mb(15,"button",12),c.nc(16," Sign in "),c.Lb(),c.Mb(17,"div",13),c.nc(18," or "),c.Mb(19,"a",14),c.nc(20,"Forgot password?"),c.Lb(),c.Lb(),c.Mb(21,"div",15),c.nc(22," Don't have an account? "),c.Mb(23,"a",16),c.nc(24,"Create One"),c.Lb(),c.Lb(),c.Lb(),c.Lb(),c.Lb(),c.Lb(),c.Lb()}if(2&t){const t=c.gc(8);var n=null;const o=t.submitted&&(null==(n=e.loginForm.get("email"))?null:n.invalid);var r=null;const s=t.submitted&&(null==(r=e.loginForm.get("password"))?null:r.invalid);c.zb(6),c.cc("ngIf",!e.loginSuccess),c.zb(1),c.cc("formGroup",e.loginForm),c.zb(3),c.cc("ngIf",o),c.zb(3),c.cc("ngIf",s)}},directives:[r.k,s.t,s.m,s.g,s.c,s.l,s.e],styles:[".global-container[_ngcontent-%COMP%]{height:100vh;display:flex;align-items:center;justify-content:center;background-color:#f5f5f5}form[_ngcontent-%COMP%]{padding-top:10px;font-size:14px;margin-top:30px}.card-title[_ngcontent-%COMP%]{font-weight:300}.btn[_ngcontent-%COMP%]{font-size:14px;margin-top:20px}.login-form[_ngcontent-%COMP%]{width:330px;margin:20px}.sign-up[_ngcontent-%COMP%]{text-align:center;padding:20px 0 0}.alert[_ngcontent-%COMP%]{margin-bottom:-30px;margin-top:20px}.alert[_ngcontent-%COMP%], em[_ngcontent-%COMP%]{font-size:13px}em[_ngcontent-%COMP%]{color:#ef0808;padding-left:7px;float:left;margin-bottom:5px}"]}),t})()}];let J=(()=>{class t{}return t.\u0275mod=c.Hb({type:t}),t.\u0275inj=c.Gb({factory:function(e){return new(e||t)},imports:[[r.b,s.h,i.b,s.q,o.e.forChild(E)]]}),t})()}}]);