function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,n,t){return n&&_defineProperties(e.prototype,n),t&&_defineProperties(e,t),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"7UCR":function(e,n,t){"use strict";t.r(n),t.d(n,"UserModule",(function(){return G}));var r,o,i=t("ofXK"),c=t("tyNb"),l=t("3Pt+"),s=t("tk/3"),a=t("fXoL"),u=t("LRne"),b=t("lJxs"),m=t("vkgz"),d=t("JIr8"),f=t("hEqt"),g={headers:new s.c({"Content-type":"application/json"}),params:{}},p=((o=function(){function e(n){_classCallCheck(this,e),this.http=n}return _createClass(e,[{key:"extractData",value:function(e){return e||{}}},{key:"setToken",value:function(e){e.success&&localStorage.setItem("token",e.token)}},{key:"register",value:function(e){return g.params=e,this.http.post(f.a.apiURL+"/user",g).pipe(Object(b.a)(this.extractData),Object(m.a)(this.setToken),Object(d.a)((function(e){return Object(u.a)(e)})))}},{key:"login",value:function(e){return g.params=e,this.http.post(f.a.apiURL+"/user/auth",g).pipe(Object(b.a)(this.extractData),Object(m.a)(this.setToken),Object(d.a)((function(e){return Object(u.a)(e)})))}}]),e}()).\u0275fac=function(e){return new(e||o)(a.Qb(s.a))},o.\u0275prov=a.Fb({token:o,factory:o.\u0275fac,providedIn:"root"}),o),h=((r=function(){function e(){_classCallCheck(this,e),this.mustMatch=[]}return _createClass(e,[{key:"validate",value:function(e){return(n=this.mustMatch[0],t=this.mustMatch[1],function(e){var r=e.controls[n],o=e.controls[t];return r&&o?o.errors&&!o.errors.mustMatch?null:void o.setErrors(r.value!==o.value?{mustMatch:!0}:null):null})(e);var n,t}}]),e}()).\u0275fac=function(e){return new(e||r)},r.\u0275dir=a.Eb({type:r,selectors:[["","mustMatch",""]],inputs:{mustMatch:"mustMatch"},features:[a.yb([{provide:l.j,useExisting:r,multi:!0}])]}),r);function M(e,n){1&e&&(a.Mb(0,"em",24),a.nc(1,"Please fill out this filed!"),a.Lb())}function v(e,n){if(1&e&&(a.Mb(0,"div"),a.mc(1,M,2,0,"em",23),a.Lb()),2&e){a.Yb();var t=a.gc(2);a.zb(1),a.cc("ngIf",null==t.controls.firstname?null:t.controls.firstname.errors.required)}}function L(e,n){1&e&&(a.Mb(0,"em",24),a.nc(1,"Please fill out this filed!"),a.Lb())}function w(e,n){if(1&e&&(a.Mb(0,"div"),a.mc(1,L,2,0,"em",23),a.Lb()),2&e){a.Yb();var t=a.gc(2);a.zb(1),a.cc("ngIf",null==t.controls.lastname?null:t.controls.lastname.errors.required)}}function C(e,n){1&e&&(a.Mb(0,"em",24),a.nc(1,"Please fill out this filed!"),a.Lb())}function y(e,n){1&e&&(a.Mb(0,"em"),a.nc(1,"Please enter a valid email!"),a.Lb())}function z(e,n){if(1&e&&(a.Mb(0,"div"),a.mc(1,C,2,0,"em",23),a.mc(2,y,2,0,"em",10),a.Lb()),2&e){a.Yb();var t=a.gc(2);a.zb(1),a.cc("ngIf",null==t.controls.email?null:t.controls.email.errors.required),a.zb(1),a.cc("ngIf",null==t.controls.email?null:t.controls.email.errors.pattern)}}function x(e,n){1&e&&(a.Mb(0,"em",24),a.nc(1,"Please fill out this filed!"),a.Lb())}function k(e,n){1&e&&(a.Mb(0,"em"),a.nc(1,"Password must be at least 6 characters"),a.Lb())}function P(e,n){if(1&e&&(a.Mb(0,"div"),a.mc(1,x,2,0,"em",23),a.mc(2,k,2,0,"em",10),a.Lb()),2&e){a.Yb();var t=a.gc(2);a.zb(1),a.cc("ngIf",null==t.controls.password?null:t.controls.password.errors.required),a.zb(1),a.cc("ngIf",null==t.controls.password?null:t.controls.password.errors.minlength)}}function I(e,n){1&e&&(a.Mb(0,"em",24),a.nc(1,"Please fill out this filed!"),a.Lb())}function _(e,n){1&e&&(a.Mb(0,"em"),a.nc(1,"Passwords must match"),a.Lb())}function q(e,n){if(1&e&&(a.Mb(0,"div"),a.mc(1,I,2,0,"em",23),a.mc(2,_,2,0,"em",10),a.Lb()),2&e){a.Yb();var t=a.gc(2);a.zb(1),a.cc("ngIf",null==t.controls.passwordComfirm?null:t.controls.passwordComfirm.errors.required),a.zb(1),a.cc("ngIf",null==t.controls.passwordComfirm?null:t.controls.passwordComfirm.errors.mustMatch)}}var O=function(){return["password","passwordComfirm"]};function S(e,n){if(1&e&&(a.Mb(0,"div",17),a.nc(1),a.Lb()),2&e){var t=a.Yb();a.zb(1),a.pc(" ",t.loginErr," ")}}function U(e,n){1&e&&(a.Mb(0,"em",19),a.nc(1,"Please fill out this filed!"),a.Lb())}function j(e,n){1&e&&(a.Mb(0,"em",19),a.nc(1,"Please enter a valid email!"),a.Lb())}function F(e,n){if(1&e&&(a.Mb(0,"div"),a.mc(1,U,2,0,"em",18),a.mc(2,j,2,0,"em",18),a.Lb()),2&e){var t,r,o=a.Yb(),i=null==(t=o.loginForm.get("email"))?null:t.errors.required,c=null==(r=o.loginForm.get("email"))?null:r.errors.email;a.zb(1),a.cc("ngIf",i),a.zb(1),a.cc("ngIf",c)}}function R(e,n){1&e&&(a.Mb(0,"em",19),a.nc(1,"Please fill out this filed!"),a.Lb())}function E(e,n){1&e&&(a.Mb(0,"em"),a.nc(1,"Password must be more than 6 characters"),a.Lb())}function J(e,n){if(1&e&&(a.Mb(0,"div"),a.mc(1,R,2,0,"em",18),a.mc(2,E,2,0,"em",9),a.Lb()),2&e){var t,r,o=a.Yb(),i=null==(t=o.loginForm.get("password"))?null:t.errors.required,c=null==(r=o.loginForm.get("password"))?null:r.errors.minlength;a.zb(1),a.cc("ngIf",i),a.zb(1),a.cc("ngIf",c)}}var T,Y,D,N=[{path:"register",component:(Y=function(){function e(n,t){_classCallCheck(this,e),this.router=n,this.userService=t,this.user={firstname:"",lastname:"",password:"",email:""},this.acceptTerm=!1}return _createClass(e,[{key:"onSubmit",value:function(){var e=this;this.userService.register(this.user).subscribe((function(n){n.success&&e.router.navigate(["courses"])}))}}]),e}(),Y.\u0275fac=function(e){return new(e||Y)(a.Jb(c.b),a.Jb(p))},Y.\u0275cmp=a.Db({type:Y,selectors:[["app-register"]],decls:37,vars:14,consts:[[1,"container"],[3,"mustMatch","ngSubmit"],["signUpForm","ngForm"],[1,"row","justify-content-center"],[1,"col-12","col-md-8","col-lg-8","col-xl-6"],[1,"row"],[1,"col","text-center"],[1,"text-h3"],[1,"row","align-items-center"],[1,"col","mt-4"],[4,"ngIf"],["name","firstname","type","text","placeholder","Firstname","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","lastname","placeholder","Lastname","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"row","align-items-center","mt-4"],[1,"col"],["name","email","type","email","pattern","[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$","placeholder","Email","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","password","name","password","placeholder","Password","required","","minlength","6",1,"form-control",3,"ngModel","ngModelChange"],["type","password","name","passwordComfirm","placeholder","Confirm Password","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"row","justify-content-start","mt-4"],[1,"form-check"],[1,"form-check-label"],["type","checkbox","name","acceptTerm","required","",1,"form-check-input",3,"ngModel","ngModelChange"],[1,"btn","btn-primary","mt-4",3,"disabled"],["class","required-err",4,"ngIf"],[1,"required-err"]],template:function(e,n){if(1&e){var t=a.Nb();a.Mb(0,"div",0),a.Mb(1,"form",1,2),a.Ub("ngSubmit",(function(){return a.hc(t),a.gc(2).form.valid&&n.onSubmit()})),a.Mb(3,"div",3),a.Mb(4,"div",4),a.Mb(5,"div",5),a.Mb(6,"div",6),a.Mb(7,"h1"),a.nc(8,"Register"),a.Lb(),a.Mb(9,"p",7),a.nc(10," Sign Up and Start Learning! "),a.Lb(),a.Lb(),a.Lb(),a.Mb(11,"div",8),a.Mb(12,"div",9),a.mc(13,v,2,1,"div",10),a.Mb(14,"input",11),a.Ub("ngModelChange",(function(e){return n.user.firstname=e})),a.Lb(),a.Lb(),a.Mb(15,"div",9),a.mc(16,w,2,1,"div",10),a.Mb(17,"input",12),a.Ub("ngModelChange",(function(e){return n.user.lastname=e})),a.Lb(),a.Lb(),a.Lb(),a.Mb(18,"div",13),a.Mb(19,"div",14),a.mc(20,z,3,2,"div",10),a.Mb(21,"input",15),a.Ub("ngModelChange",(function(e){return n.user.email=e})),a.Lb(),a.Lb(),a.Lb(),a.Mb(22,"div",13),a.Mb(23,"div",14),a.mc(24,P,3,2,"div",10),a.Mb(25,"input",16),a.Ub("ngModelChange",(function(e){return n.user.password=e})),a.Lb(),a.Lb(),a.Mb(26,"div",14),a.mc(27,q,3,2,"div",10),a.Mb(28,"input",17),a.Ub("ngModelChange",(function(e){return n.passwordComfirm=e})),a.Lb(),a.Lb(),a.Lb(),a.Mb(29,"div",18),a.Mb(30,"div",14),a.Mb(31,"div",19),a.Mb(32,"label",20),a.Mb(33,"input",21),a.Ub("ngModelChange",(function(e){return n.acceptTerm=e})),a.Lb(),a.nc(34," I Read and Accept terms and Conditions "),a.Lb(),a.Lb(),a.Mb(35,"button",22),a.nc(36," Submit "),a.Lb(),a.Lb(),a.Lb(),a.Lb(),a.Lb(),a.Lb(),a.Lb()}if(2&e){var r=a.gc(2);a.zb(1),a.cc("mustMatch",a.dc(13,O)),a.zb(12),a.cc("ngIf",r.submitted&&(null==r.controls.firstname?null:r.controls.firstname.invalid)),a.zb(1),a.cc("ngModel",n.user.firstname),a.zb(2),a.cc("ngIf",r.submitted&&(null==r.controls.lastname?null:r.controls.lastname.invalid)),a.zb(1),a.cc("ngModel",n.user.lastname),a.zb(3),a.cc("ngIf",r.submitted&&(null==r.controls.email?null:r.controls.email.invalid)),a.zb(1),a.cc("ngModel",n.user.email),a.zb(3),a.cc("ngIf",r.submitted&&(null==r.controls.password?null:r.controls.password.invalid)),a.zb(1),a.cc("ngModel",n.user.password),a.zb(2),a.cc("ngIf",r.submitted&&(null==r.controls.passwordComfirm?null:r.controls.passwordComfirm.invalid)),a.zb(1),a.cc("ngModel",n.passwordComfirm),a.zb(5),a.cc("ngModel",n.acceptTerm),a.zb(2),a.cc("disabled",!n.acceptTerm)}},directives:[l.t,l.m,l.n,h,i.k,l.c,l.r,l.l,l.o,l.p,l.i,l.b,l.a],styles:["em[_ngcontent-%COMP%] {\n\t\t\t\tcolor: #ef0808;\n\t\t\t\tpadding-left: 7px;\n\t\t\t\tposition: absolute;\n\t\t\t\tbottom: 37px;\n\t\t\t\tfont-size: 13px;\n\t\t\t}"]}),Y)},{path:"login",component:(T=function(){function e(n,t,r){_classCallCheck(this,e),this.userService=n,this.router=t,this.route=r,this.loginForm=new l.f({email:new l.d("",[l.s.required,l.s.email]),password:new l.d("",[l.s.required,l.s.minLength(6)])}),this.loginSuccess=!0}return _createClass(e,[{key:"onSubmit",value:function(){var e=this;this.userService.login(this.loginForm.value).subscribe((function(n){if(n.success){var t=e.route.snapshot.queryParams;t.redirectURL&&(e.redirectURL=t.redirectURL),e.redirectURL?e.router.navigateByUrl(e.redirectURL).catch((function(){return e.router.navigate(["courses"])})):e.router.navigate(["courses"])}else e.loginSuccess=!1,e.loginErr=n.error.error,console.log(e.loginErr)}))}}]),e}(),T.\u0275fac=function(e){return new(e||T)(a.Jb(p),a.Jb(c.b),a.Jb(c.a))},T.\u0275cmp=a.Db({type:T,selectors:[["app-login"]],decls:25,vars:4,consts:[[1,"global-container"],[1,"card","login-form"],[1,"card-body"],[1,"card-title","text-center"],[1,"card-text"],["class","alert alert-danger alert-dismissible fade show","role","alert",4,"ngIf"],[3,"formGroup","ngSubmit"],["login","ngForm"],[1,"form-group"],[4,"ngIf"],["formControlName","email","type","email","id","email","aria-describedby","emailHelp","placeholder","Email address",1,"form-control","form-control-sm"],["formControlName","password","type","password","id","password","placeholder","Password",1,"form-control","form-control-sm"],["type","submit",1,"btn","btn-primary","btn-block"],[1,"forgot-password","text-center","mt-2"],["href","#",2,"font-size","12px"],[1,"sign-up"],["href","/user/register"],["role","alert",1,"alert","alert-danger","alert-dismissible","fade","show"],["class","required-err",4,"ngIf"],[1,"required-err"]],template:function(e,n){if(1&e){var t=a.Nb();a.Mb(0,"div",0),a.Mb(1,"div",1),a.Mb(2,"div",2),a.Mb(3,"h3",3),a.nc(4,"Log in to 20B08"),a.Lb(),a.Mb(5,"div",4),a.mc(6,S,2,1,"div",5),a.Mb(7,"form",6,7),a.Ub("ngSubmit",(function(){return a.hc(t),a.gc(8).form.valid&&n.onSubmit()})),a.Mb(9,"div",8),a.mc(10,F,3,2,"div",9),a.Kb(11,"input",10),a.Lb(),a.Mb(12,"div",8),a.mc(13,J,3,2,"div",9),a.Kb(14,"input",11),a.Lb(),a.Mb(15,"button",12),a.nc(16," Sign in "),a.Lb(),a.Mb(17,"div",13),a.nc(18," or "),a.Mb(19,"a",14),a.nc(20,"Forgot password?"),a.Lb(),a.Lb(),a.Mb(21,"div",15),a.nc(22," Don't have an account? "),a.Mb(23,"a",16),a.nc(24,"Create One"),a.Lb(),a.Lb(),a.Lb(),a.Lb(),a.Lb(),a.Lb(),a.Lb()}if(2&e){var r=a.gc(8),o=null,i=r.submitted&&(null==(o=n.loginForm.get("email"))?null:o.invalid),c=null,l=r.submitted&&(null==(c=n.loginForm.get("password"))?null:c.invalid);a.zb(6),a.cc("ngIf",!n.loginSuccess),a.zb(1),a.cc("formGroup",n.loginForm),a.zb(3),a.cc("ngIf",i),a.zb(3),a.cc("ngIf",l)}},directives:[i.k,l.t,l.m,l.g,l.c,l.l,l.e],styles:[".global-container[_ngcontent-%COMP%]{height:100vh;display:flex;align-items:center;justify-content:center;background-color:#f5f5f5}form[_ngcontent-%COMP%]{padding-top:10px;font-size:14px;margin-top:30px}.card-title[_ngcontent-%COMP%]{font-weight:300}.btn[_ngcontent-%COMP%]{font-size:14px;margin-top:20px}.login-form[_ngcontent-%COMP%]{width:330px;margin:20px}.sign-up[_ngcontent-%COMP%]{text-align:center;padding:20px 0 0}.alert[_ngcontent-%COMP%]{margin-bottom:-30px;margin-top:20px}.alert[_ngcontent-%COMP%], em[_ngcontent-%COMP%]{font-size:13px}em[_ngcontent-%COMP%]{color:#ef0808;padding-left:7px;float:left;margin-bottom:5px}"]}),T)}],G=((D=function e(){_classCallCheck(this,e)}).\u0275mod=a.Hb({type:D}),D.\u0275inj=a.Gb({factory:function(e){return new(e||D)},imports:[[i.b,l.h,s.b,l.q,c.e.forChild(N)]]}),D)}}]);